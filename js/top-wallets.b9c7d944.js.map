{"version":3,"sources":["webpack:///./src/pages/TopWallets.vue?7b29","webpack:///./src/pages/TopWallets.vue?3311","webpack:///./src/pages/TopWallets.vue?5288","webpack:///./src/pages/TopWallets.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$t","attrs","wallets","supply","sortParams","on","onSortChange","meta","currentPage","onPageChange","_e","staticRenderFns","registerHooks","changePage","to","from","next","top","Number","params","page","data","vm","setWallets","setMeta","name","$route","$router","push","toString","pageCount","$store","getters","dispatch","field","type","computed","component"],"mappings":"sHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACF,EAAG,gBAAgB,CAACJ,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,GAAG,+BAA+BL,EAAG,UAAU,CAACE,YAAY,8BAA8B,CAACF,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,sBAAsB,CAACM,MAAM,CAAC,QAAUV,EAAIW,QAAQ,MAAQX,EAAIY,OAAO,aAAaZ,EAAIa,YAAYC,GAAG,CAAC,iBAAiBd,EAAIe,iBAAiB,GAAGX,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,qBAAqB,CAACM,MAAM,CAAC,QAAUV,EAAIW,QAAQ,MAAQX,EAAIY,WAAW,GAAIZ,EAAkB,eAAEI,EAAG,aAAa,CAACM,MAAM,CAAC,KAAOV,EAAIgB,KAAK,eAAehB,EAAIiB,aAAaH,GAAG,CAAC,cAAcd,EAAIkB,gBAAgBlB,EAAImB,MAAM,IAAI,IACptBC,EAAkB,G,yLC0BtB,OAAUC,cAAc,CAAC,mBAAoB,sBAO7C,IAAqB,EAArB,yG,0BAeU,EAAAV,QAA4B,KAC5B,EAAAK,KAAmB,KACnB,EAAAC,YAAc,EAjBxB,wEAsBIhB,KAAKqB,eAtBT,mFAyBgCC,EAAWC,EAAaC,GAzBxD,qGA2BmC,OAAcC,IAAIC,OAAOJ,EAAGK,OAAOC,OA3BtE,gBA2Bcb,EA3Bd,EA2BcA,KAAMc,EA3BpB,EA2BoBA,KAEdL,GAAK,SAACM,GACJA,EAAGd,YAAcU,OAAOJ,EAAGK,OAAOC,MAClCE,EAAGC,WAAWF,GACdC,EAAGE,QAAQjB,MAhCnB,mDAmCMS,EAAK,CAAES,KAAM,QAnCnB,2MAuCiCX,EAAWC,EAAaC,GAvCzD,mFAwCIxB,KAAKU,QAAU,KACfV,KAAKe,KAAO,KAzChB,kBA4CmC,OAAcU,IAAIC,OAAOJ,EAAGK,OAAOC,OA5CtE,gBA4Ccb,EA5Cd,EA4CcA,KAAMc,EA5CpB,EA4CoBA,KAEd7B,KAAKgB,YAAcU,OAAOJ,EAAGK,OAAOC,MACpC5B,KAAK+B,WAAWF,GAChB7B,KAAKgC,QAAQjB,GACbS,IAjDN,qDAmDMA,EAAK,CAAES,KAAM,QAnDnB,sJAuDiBlB,GACbf,KAAKe,KAAOA,IAxDhB,mCA2DsBa,GAClB5B,KAAKgB,YAAcY,IA5DvB,mCAgEQ5B,KAAKgB,cAAgBU,OAAO1B,KAAKkC,OAAOP,OAAOC,OAEjD5B,KAAKmC,QAAQC,KAAK,CAChBH,KAAM,cACNN,OAAQ,CACNC,KAAM5B,KAAKgB,YAAYqB,gBArEjC,iCA2EqB3B,GACjBV,KAAKU,QAAUA,IA5EnB,mCA+EuBiB,GACnB3B,KAAKY,WAAae,IAhFtB,qCAEI,OAAO3B,KAAKe,MAAQf,KAAKe,KAAKuB,UAAY,IAF9C,iCAMI,OAAOtC,KAAKuC,OAAOC,QAAQ,wBAN/B,aASiBb,GACb3B,KAAKuC,OAAOE,SAAS,yBAA0B,CAC7CC,MAAOf,EAAOe,MACdC,KAAMhB,EAAOgB,WAZnB,GAAwC,QAqBtC,gBADC,eAAM,gB,mCAGN,MAvBkB,EAAU,gBAL9B,eAAU,CACTC,SAAU,kBACL,eAAW,UAAW,CAAC,eAGT,WClCgX,I,YCOjYC,EAAY,eACd,EACA/C,EACAqB,GACA,EACA,KACA,KACA,MAIa,aAAA0B,E","file":"js/top-wallets.b9c7d944.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"max-w-2xl mx-auto md:pt-5\"},[_c('ContentHeader',[_vm._v(_vm._s(_vm.$t(\"PAGES.TOP_WALLETS.TITLE\")))]),_c('section',{staticClass:\"py-5 page-section md:py-10\"},[_c('div',{staticClass:\"hidden sm:block\"},[_c('TableWalletsDesktop',{attrs:{\"wallets\":_vm.wallets,\"total\":_vm.supply,\"sort-query\":_vm.sortParams},on:{\"on-sort-change\":_vm.onSortChange}})],1),_c('div',{staticClass:\"sm:hidden\"},[_c('TableWalletsMobile',{attrs:{\"wallets\":_vm.wallets,\"total\":_vm.supply}})],1),(_vm.showPagination)?_c('Pagination',{attrs:{\"meta\":_vm.meta,\"current-page\":_vm.currentPage},on:{\"page-change\":_vm.onPageChange}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Watch } from \"vue-property-decorator\";\nimport { mapGetters } from \"vuex\";\nimport { Route } from \"vue-router\";\nimport { ISortParameters, IWallet } from \"@/interfaces\";\nimport WalletService from \"@/services/wallet\";\n\nComponent.registerHooks([\"beforeRouteEnter\", \"beforeRouteUpdate\"]);\n\n@Component({\n  computed: {\n    ...mapGetters(\"network\", [\"supply\"]),\n  },\n})\nexport default class TopWallets extends Vue {\n  get showPagination() {\n    return this.meta && this.meta.pageCount > 1;\n  }\n\n  get sortParams() {\n    return this.$store.getters[\"ui/walletSortParams\"];\n  }\n\n  set sortParams(params: ISortParameters) {\n    this.$store.dispatch(\"ui/setWalletSortParams\", {\n      field: params.field,\n      type: params.type,\n    });\n  }\n  private wallets: IWallet[] | null = null;\n  private meta: any | null = null;\n  private currentPage = 0;\n  private supply: string;\n\n  @Watch(\"currentPage\")\n  public onCurrentPageChanged() {\n    this.changePage();\n  }\n\n  public async beforeRouteEnter(to: Route, from: Route, next: (vm?: any) => void) {\n    try {\n      const { meta, data } = await WalletService.top(Number(to.params.page));\n\n      next((vm: TopWallets) => {\n        vm.currentPage = Number(to.params.page);\n        vm.setWallets(data);\n        vm.setMeta(meta);\n      });\n    } catch (e) {\n      next({ name: \"404\" });\n    }\n  }\n\n  public async beforeRouteUpdate(to: Route, from: Route, next: (vm?: any) => void) {\n    this.wallets = null;\n    this.meta = null;\n\n    try {\n      const { meta, data } = await WalletService.top(Number(to.params.page));\n\n      this.currentPage = Number(to.params.page);\n      this.setWallets(data);\n      this.setMeta(meta);\n      next();\n    } catch (e) {\n      next({ name: \"404\" });\n    }\n  }\n\n  public setMeta(meta: any) {\n    this.meta = meta;\n  }\n\n  public onPageChange(page: number) {\n    this.currentPage = page;\n  }\n\n  public changePage() {\n    if (this.currentPage !== Number(this.$route.params.page)) {\n      // @ts-ignore\n      this.$router.push({\n        name: \"top-wallets\",\n        params: {\n          page: this.currentPage.toString(),\n        },\n      });\n    }\n  }\n\n  private setWallets(wallets: IWallet[]) {\n    this.wallets = wallets;\n  }\n\n  private onSortChange(params: ISortParameters) {\n    this.sortParams = params;\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopWallets.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopWallets.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TopWallets.vue?vue&type=template&id=1770da9a&\"\nimport script from \"./TopWallets.vue?vue&type=script&lang=ts&\"\nexport * from \"./TopWallets.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}